!function(){document.querySelectorAll(".salones").forEach(n=>{n.addEventListener("click",(function(a){e(n.querySelector(".id").innerHTML.trim(),"actualizar-salon")}))});function e(e,n){if(null!==e){var o=new FormData;o.append("id",e)}try{if("agregar-nuevoSalon"==n)return void a(function(){const e=document.createElement("DIV");return e.classList.add("modal"),e.innerHTML='\n        <form class="formulario">\n                <legend>Añadir nuevo Salon</legend>\n                <div class="campo">\n                    <label class="subtitulo">Nombre del Salon</label>\n                    <input\n                        type= "text"\n                        name = "salon"\n                        placeholder="Ingresa el nombre del salon"\n                        id="salon"\n                    />\n                </div>\n                <div class="opciones">\n                    <input type="submit" class="submit-nuevo-salon" value="Crear Salon"/>\n                    <button type="button" class="cerrar-modal">Cancelar</button>\n                </div>\n            </form>\n    ',e}());if("actualizar-salon"==n){console.log("url");var t="http://localhost:3001/salon"}(async function(e,n){const a=await fetch(e,{method:"POST",body:n});return await a.json()})(t,o).then((function(e){if("salon"==e.remitente)var n=function(e){const n=document.createElement("DIV");return n.classList.add("modal"),n.innerHTML='\n        <form class="formulario">\n                <legend>Añadir nuevo Salon</legend>\n                <div class="campo">\n                    <label class="subtitulo">Nombre del Salon</label>\n                    <input\n                        type= "text"\n                        name = "salon"\n                        placeholder="Ingresa el nombre del salon"\n                        value="'+e.salon+'"\n                        id="salon"\n                    />\n                </div>\n                <div class="opciones">\n                    <input type="submit" class="submit-actualiza-salon" value="Actualizar Salon"/>\n                    <button type="button" class="cerrar-modal">Cancelar</button>\n                </div>\n            </form>\n    ',n}(e);a(n,e.id)}))}catch(e){console.log(e)}}async function n(){const e=document.querySelector("#salon").value.trim().toUpperCase();if(""!=e)if(/^(laboratorio|aula)\s[\w\s]*$/.test(e.toLowerCase())){var n={nombre_aulas:""+e};console.log(n),async function(e,n,a="POST"){try{const o=await fetch(e,{method:a,headers:{"Content-Type":"application/json"},body:n}),t=await o.json();"Updated"==t.message?alert("Actualizado"):"Saved"==t.message&&alert("Salon Creado"),location.reload()}catch(e){console.log(e)}}("http://localhost:3000/aulas",JSON.stringify(n))}else o("El texto debe iniciar con aula o laboratorio seguidos de un espacio","error",document.querySelector("legend"));else o("El nombre del salon no debe ir vacio","error",document.querySelector("legend"))}function a(e,a=""){setTimeout(()=>{document.querySelector(".formulario").classList.add("animar")},100),e.addEventListener("click",(function(a){if(a.preventDefault(),a.target.classList.contains("cerrar-modal")){document.querySelector(".formulario").classList.add("cerrar"),setTimeout(()=>{e.remove()},500)}a.target.classList.contains("submit-nuevo-salon")&&n()})),document.querySelector(".dashboard").appendChild(e)}function o(e,n,a){const o=document.querySelector(".alerta");o&&o.remove();const t=document.createElement("DIV");t.classList.add("alerta",n),t.textContent=e,a.parentElement.insertBefore(t,a.nextElementSibling),setTimeout(()=>{t.remove()},5e3)}document.querySelector(".nuevoSalon").addEventListener("click",(function(){e(null,"agregar-nuevoSalon")}))}();